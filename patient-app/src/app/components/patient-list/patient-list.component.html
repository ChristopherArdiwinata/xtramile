<div class="patient-list">
  <div class="flex flex-col bg-[#3237a6]">
    <div
      class="w-full h-12 flex items-center p-4 bg-[#0f1145] shadow text-white"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
      &nbsp;&nbsp; Patient Dashboard
    </div>
    <div class="flex">
      <div class="flex h-screen flex-col h-full w-[47px] p-0">
        <div>
          <svg
            width="70"
            height="70"
            viewBox="0 0 54 54"
            fill="none"
            stroke="white"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            xmlns="http://www.w3.org/2000/svg"
            class="mt-2 pl-2"
          >
            <circle cx="12" cy="8" r="4"></circle>
            <path d="M6 20c0-4 4-6 6-6s6 2 6 6"></path>
          </svg>
        </div>
      </div>
      <div class="bg-white h-screen flex-1 flex flex-col items-center">
        <div class="p-3 mt-0 border border-blue-300 w-full">
          <input
            type="text"
            placeholder="Search: patient name or PID"
            [(ngModel)]="searchTerm"
            class="w-1/2 p-4"
          />
          <button
            (click)="searchPatients()"
            class="p-3 bg-white m-0 hover:bg-gray-100 text-gray-800 font-semibold border border-gray-400 rounded"
          >
            <span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                viewBox="0 0 24 24"
              >
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </span>
          </button>
        </div>
        <div class="p-1 m-1 h-full w-full">
          <button
            mat-button
            [routerLink]="['/patients/new']"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold mx-1 px-2 rounded"
          >
             + New Patient
          </button>
          <table mat-table [dataSource]="patients" class="mat-elevation-z8">
            <!-- Define table columns -->
            <ng-container matColumnDef="firstName">
              <th mat-header-cell *matHeaderCellDef>First Name</th>
              <td mat-cell *matCellDef="let patient">
                {{ patient.firstName }}
              </td>
            </ng-container>

            <ng-container matColumnDef="lastName">
              <th mat-header-cell *matHeaderCellDef>Last Name</th>
              <td mat-cell *matCellDef="let patient">{{ patient.lastName }}</td>
            </ng-container>

            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let patient">
                <button
                  mat-button
                  [routerLink]="['/patients', patient.id]"
                  class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mx-2 rounded"
                >
                  Edit / View
                </button>
                <button
                  mat-button
                  (click)="deletePatient(patient.id)"
                  class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
                >
                  Delete
                </button>
              </td>
            </ng-container>

            <tr
              mat-header-row
              *matHeaderRowDef="['firstName', 'lastName', 'actions']"
            ></tr>
            <tr
              mat-row
              *matRowDef="
                let row;
                columns: ['firstName', 'lastName', 'actions']
              "
            ></tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
